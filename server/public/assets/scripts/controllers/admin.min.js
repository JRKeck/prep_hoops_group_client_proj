prepHoopsApp.controller("AdminController",["$scope","$http",function(e,t){function o(o){t.post("network/addsite",o).then(function(){e.adminForm={},i()})}function i(){t.get("network").then(function(t){console.log("loading sites"),e.sites=t.data})}console.log("Admin Controller Loaded"),e.adminForm={},e.editForm={},e.editFormName="",e.editFormUrl="",e.sites=[];var n;i(),e.assignSiteID=function(){return t.get("network/lastid").then(function(t){n=t.data.siteID,n||(n=0),e.adminForm.siteID=n+1,o(e.adminForm)})},e.checkSite=function(t){console.log("Report Name: ",t);for(var o=0;o<e.sites.length;o++)t==e.sites[o].siteShortName&&(e.editFormName=e.sites[o].siteFullName,e.editFormUrl=e.sites[o].rssURL,console.log("I'm in the if statement!",e.editFormName,e.editFormUrl))},e.removeSite=function(){var e=this.site.siteShortName,o=this.site._id;console.log("Remove Button Pressed for Site: "+e),console.log("Mongo ID: ",o),t["delete"]("network/deletesite/"+o).then(function(e,t){e?console.log("Error on Delete is: ",e):(console.log("Delete Successful: ",t),i())})},e.changedValue=function(t){console.log(t),e.editForm.editShortName=t.siteShortName,e.editForm.editFullName=t.siteFullName,e.editForm.editRssURL=t.rssURL,e.editForm.editSiteID=t.id},e.editSite=function(){var e=this.site.siteShortName,o=this.site._id;console.log("Edit Button Pressed for Site: "+e),console.log("Mongo ID: ",o),t.put("network/editsite/"+o).then(function(e,t){e?console.log("Error on Edit is: ",e):(console.log("Edit Successful: ",t),i())})}}]);