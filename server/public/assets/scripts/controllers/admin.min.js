prepHoopsApp.controller("AdminController",["$scope","$http","$modal",function(e,t,o){function n(o){t.post("network/addsite",o).then(function(){e.adminForm={},i()})}function i(){t.get("network").then(function(t){e.sites=t.data,e.sitesSelector=e.sites})}console.log("Admin Controller Loaded"),e.adminForm={},e.editForm={},e.sites=[],e.sitesSelector=[];var s;i(),e.assignSiteID=function(){return t.get("network/lastid").then(function(t){s=t.data.siteID,s||(s=0),e.adminForm.siteID=s+1,n(e.adminForm)})},e.changedValue=function(t){t&&(e.editForm.editShortName=t.siteShortName,e.editForm.editFullName=t.siteFullName,e.editForm.editRssURL=t.rssURL,e.editForm.editSiteID=t.siteID,e.editForm.editID=t._id)},e.editSite=function(o){var n=o.editID;t.put("network/editsite/"+n,o).then(function(t,o){200!=t.status?console.log("Error on Edit is: ",t):(e.editForm={},i())})},e.removeSite=function(t){var n=this.site.siteShortName,i=this.site._id;console.log("Remove Button Pressed for Site: "+n),console.log("Mongo ID: ",i),e.animationsEnabled=!0,e.idToDelete=this.site._id;o.open({animation:e.animationsEnabled,templateUrl:"/assets/views/routes/adminDelete.html",controller:"SiteDeleteInstanceController",size:t,resolve:{idToDelete:function(){return e.idToDelete}}})}}]),prepHoopsApp.controller("SiteDeleteInstanceController",["$scope","$http","$modalInstance","idToDelete",function(e,t,o,n){e.confirmRemove=function(){console.log("You clicked the OK Button!"),t["delete"]("network/deletesite/"+n).then(function(e,t){t?console.log("Error on Delete is: ",t):console.log("Delete Successful: ",e)}),o.close()},e.cancel=function(){o.close()}}]);