prepHoopsApp.controller("AdminController",["$scope","$http",function(e,t){function o(o){t.post("network/addsite",o).then(function(){e.adminForm={},i()})}function i(){t.get("network").then(function(t){e.sites=t.data,e.sitesSelector=e.sites})}console.log("Admin Controller Loaded"),e.adminForm={},e.editForm={},e.sites=[],e.sitesSelector=[];var n;i(),e.assignSiteID=function(){return t.get("network/lastid").then(function(t){n=t.data.siteID,n||(n=0),e.adminForm.siteID=n+1,o(e.adminForm)})},e.removeSite=function(){var e=this.site.siteShortName,o=this.site._id;console.log("Remove Button Pressed for Site: "+e),console.log("Mongo ID: ",o),t["delete"]("network/deletesite/"+o).then(function(e,t){t?console.log("Error on Delete is: ",t):(console.log("Delete Successful: ",e),i())})},e.changedValue=function(t){t&&(e.editForm.editShortName=t.siteShortName,e.editForm.editFullName=t.siteFullName,e.editForm.editRssURL=t.rssURL,e.editForm.editSiteID=t.siteID,e.editForm.editID=t._id)},e.editSite=function(o){var n=o.editID;t.put("network/editsite/"+n,o).then(function(t,o){200!=t.status?console.log("Error on Edit is: ",t):(e.editForm={},i())})}}]);