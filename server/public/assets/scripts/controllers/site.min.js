prepHoopsApp.controller("SiteController",["$scope","$http","$location","userAuth","$modal","siteFullName",function(e,t,s,o,n,r){console.log("Dashboard script loaded"),e.sites=[],e.dates=[],e.feeds=[],e.sitesWithArrays=[],e.siteName=r.get("siteFullName"),e.authors=[],e.uniqueAuthors=[],console.log(e.siteName),e.onlyUnique=function(e,t,s){return s.indexOf(e)===t},e.getDayOfWeek=function(t){e.dayOfWeek=t.getDay()},e.getFeeds=function(){t.get("/network/getFeeds").success(function(t){e.feeds=t})},e.getAuthors=function(t){for(var s=0;s<t.length;s++)for(var o=0;o<t[s].site.length;o++)if(t[s].site[o].siteName===e.siteName)for(k=0;k<t[s].site[o].articles.length;k++)e.authors.push(t[s].site[o].articles[k].author)},e.getRSS=function(s,o){var n=s.toISOString();e.shortFirstDateString=n.substr(0,n.indexOf("T"));var r=o.toISOString();e.shortSecondDateString=r.substr(0,r.indexOf("T")),t.post("/api/articleGet",[e.shortFirstDateString,e.shortSecondDateString]).success(function(t){e.getFeeds(),e.dates=t,e.sites=t[0].site,e.getAuthors(t),e.uniqueAuthors=e.authors.filter(e.onlyUnique),console.log(e.uniqueAuthors)})},e.open=function(t,s){t.preventDefault(),t.stopPropagation(),e[s]=!0},e.status={opened:!1},e.today=function(){e.first=new Date,e.last=new Date},e.today(),e.clear=function(){e.first=null,e.last=null},e.animationsEnabled=!0,e.openModal=function(t){e.selectedArticles=this.site.articles;n.open({animation:e.animationsEnabled,templateUrl:"/assets/views/routes/articleUrl.html",controller:"ArticleInstanceController",size:t,resolve:{selectedArticles:function(){return e.selectedArticles}}})}}]),prepHoopsApp.controller("ArticleInstanceController",["$scope","$modalInstance","selectedArticles",function(e,t,s){e.modalArticles=s,e.articleUrlArray=[];for(var o=0;o<e.modalArticles.length;o++)e.articleUrlArray.push(e.modalArticles[o].url);e.ok=function(){t.close()}}]);