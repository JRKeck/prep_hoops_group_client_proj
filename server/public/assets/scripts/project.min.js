var prepHoopsApp=angular.module("prepHoopsApp",["ngRoute","ui.bootstrap","appControllers"]),appControllers=angular.module("appControllers",[]);prepHoopsApp.config(["$routeProvider",function(e){e.when("/login",{templateUrl:"/assets/views/routes/login.html",controller:"LoginController"}).when("/register",{templateUrl:"/assets/views/routes/register.html",controller:"RegisterController"}).when("/admin",{templateUrl:"/assets/views/routes/admin.html",controller:"AdminController"}).when("/dashboard",{templateUrl:"/assets/views/routes/dashboard.html",controller:"DashboardController"}).when("/site",{templateUrl:"/assets/views/routes/site.html",controller:"SiteController"}).otherwise({redirectTo:"/login"})}]),prepHoopsApp.factory("AuthService",["$q","$timeout","$http",function(e,o,r){function t(){return u?!0:!1}function s(){return u}function n(o,t){var s=e.defer();return r.post("/userauth/login",{username:o,password:t}).success(function(e,o){200===o&&e.status?(console.log("success"),u=!0,s.resolve()):(u=!1,s.reject())}).error(function(e){console.log("error"),u=!1,s.reject()}),s.promise}function l(){var o=e.defer();return r.get("/userauth/logout").success(function(e){u=!1,o.resolve()}).error(function(e){u=!1,o.reject()}),o.promise}var u=!1;return{isLoggedIn:t,getUserStatus:s,login:n,logout:l,user:u}}]),prepHoopsApp.run(["$rootScope","$location","$route","AuthService",function(e,o,r,t){e.$on("$routeChangeStart",function(e,r,s){t.isLoggedIn()===!1&&o.path("/login")})}]);